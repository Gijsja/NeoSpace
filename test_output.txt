============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-7.4.3, pluggy-1.4.0
rootdir: /home/geisha/Vibecode/neospace
configfile: pytest.ini
plugins: anyio-3.7.1, flask-1.3.0, cov-7.0.0
collected 1 item

tests/test_coverage_boost.py [2m2026-01-11T19:13:12.114186Z[0m [[32m[1minfo     [0m] [1mlogging_configured            [0m [36menv[0m=[35mdevelopment[0m
DEBUG: auth/me response: {'avatar_color': 'user-color-5', 'logged_in': True, 'ok': True, 'username': 'testuser'}
DEBUG: update failure: 400 - {
  "error": "Invalid theme. Choose from: {'cyber', 'dark', 'zen', 'default', 'retro'}"
}

F

=================================== FAILURES ===================================
_______________ TestProfileMutations.test_update_profile_success _______________

self = <tests.test_coverage_boost.TestProfileMutations object at 0x723c32f1db20>
auth_client = <FlaskClient <Flask 'app'>>

    def test_update_profile_success(self, auth_client):
        res = auth_client.get("/auth/me")
        print(f"DEBUG: auth/me response: {res.get_json()}")
    
        res = auth_client.post("/profile/update", json={
            "display_name": "New Name",
            "bio": "New Bio",
            "status_message": "Chilling"
        })
        if res.status_code != 200:
            print(f"DEBUG: update failure: {res.status_code} - {res.get_data(as_text=True)}")
>       assert res.status_code == 200
E       assert 400 == 200
E        +  where 400 = <WrapperTestResponse 90 bytes [400 BAD REQUEST]>.status_code

tests/test_coverage_boost.py:47: AssertionError
=============================== warnings summary ===============================
tests/test_coverage_boost.py::TestProfileMutations::test_update_profile_success
  /home/geisha/.local/lib/python3.12/site-packages/bleach/sanitizer.py:166: NoCssSanitizerWarning: 'style' attribute specified, but css_sanitizer not set.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/test_coverage_boost.py::TestProfileMutations::test_update_profile_success
========================= 1 failed, 1 warning in 0.42s =========================
