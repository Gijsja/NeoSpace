{% macro dropdown(label="Menu", icon="ph-dots-three", alignment="right") %}
<!-- 
  Dropdown Component
  Style: Neubrutalist
-->
<div x-data="{ open: false }" 
     @click.outside="open = false" 
     class="relative inline-block text-left">
    
    <!-- Trigger -->
    <button @click="open = !open" 
            class="inline-flex items-center justify-center w-10 h-10 bg-white border-2 border-black hover:bg-gray-100 transition-colors shadow-[4px_4px_0_0_#000] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0_0_#000]">
        <i class="ph-bold {{ icon }}"></i>
    </button>

    <!-- Menu -->
    <div x-show="open" 
         x-transition:enter="transition ease-out duration-100"
         x-transition:enter-start="transform opacity-0 scale-95"
         x-transition:enter-end="transform opacity-100 scale-100"
         x-transition:leave="transition ease-in duration-75"
         x-transition:leave-start="transform opacity-100 scale-100"
         x-transition:leave-end="transform opacity-0 scale-95"
         style="display: none;"
         class="absolute {{ alignment }}-0 mt-2 w-56 bg-white border-2 border-black shadow-[8px_8px_0_0_#000] z-50 divide-y-2 divide-black/10 origin-top-{{ alignment }}">
        
        {{ caller() }}

    </div>
</div>
{% endmacro %}

{% macro dropdown_item(label, href="#", icon=None, destructive=False, action=None) %}
<a href="{{ href }}" 
   {% if action %}@click="{{ action }}"{% endif %}
   class="group flex items-center gap-3 px-4 py-3 text-sm font-bold uppercase tracking-wider hover:bg-acid-green hover:text-black transition-colors {% if destructive %}text-red-500 hover:bg-red-500 hover:text-white{% else %}text-black{% endif %}">
    {% if icon %}
    <i class="ph-bold {{ icon }} text-lg"></i>
    {% endif %}
    {{ label }}
</a>
{% endmacro %}
