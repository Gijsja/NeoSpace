{#
NEOSPACE UI COMPONENT LIBRARY
Standardized Neobrutalist Macros for Sprint 25
#}

{# --- BUTTONS --- #}
{# Types: primary (acid-green), secondary (white), danger (hot-pink), ghost (transparent) #}
{#Types: primary (acid-green), secondary (white), danger (hot-pink), ghost (transparent), outline #}
{% macro button(text, variant='primary', size='md', icon=None, href=None, class='', attrs='', id=None, aria_label=None)
-%}
{% set base_classes = "inline-flex items-center justify-center gap-2 border-[4px] border-black font-bold uppercase
shadow-hard transition-all hover:-translate-y-0.5 hover:shadow-hard-md active:translate-x-[4px] active:translate-y-[4px]
active:shadow-none" %}

{# Size Classes #}
{% if size == 'sm' %}
{% set size_classes = "px-3 py-1 text-xs" %}
{% elif size == 'lg' %}
{% set size_classes = "px-6 py-3 text-lg" %}
{% elif size == 'icon' %}
{% set size_classes = "w-10 h-10 p-0 flex items-center justify-center" %}
{% elif size == 'fab' %}
{% set size_classes = "w-14 h-14 p-0 flex items-center justify-center rounded-none" %}
{% elif size == 'none' %}
{% set size_classes = "" %}
{% else %}
{% set size_classes = "px-4 py-2 text-sm" %}
{% endif %}

{# Variant Classes #}
{% if variant == 'primary' %}
{% set color_classes = "bg-neon-green text-black hover:bg-white" %}
{% elif variant == 'secondary' %}
{% set color_classes = "bg-white text-black hover:bg-gray-100" %}
{% elif variant == 'destructive' or variant == 'danger' %}
{% set color_classes = "bg-hot-pink text-white hover:bg-red-500" %}
{% elif variant == 'ghost' %}
{% set base_classes = "inline-flex items-center gap-2 font-bold uppercase hover:underline" %}
{% set color_classes = "text-black bg-transparent border-none shadow-none text-sm" %}
{% set size_classes = "" %}
{% elif variant == 'outline' %}
{% set color_classes = "bg-transparent text-black hover:bg-black hover:text-white border-[4px]" %}
{% else %}
{# Default to primary if unknown #}
{% set color_classes = "bg-neon-green text-black hover:bg-white" %}
{% endif %}

{% if href %}
<a href="{{ href }}" {% if id %}id="{{ id }}" {% endif %} {% if aria_label %}aria-label="{{ aria_label }}" {% endif %}
    class="{{ base_classes }} {{ size_classes }} {{ color_classes }} {{ class }}" {{ attrs|safe }}>
    {% if icon %}<i class="{{ icon }} text-lg"></i>{% endif %}
    {% if text %}<span>{{ text }}</span>{% endif %}
    {% if caller %}{{ caller() }}{% endif %}
</a>
{% else %}
<button {% if id %}id="{{ id }}" {% endif %} {% if aria_label %}aria-label="{{ aria_label }}" {% endif %}
    class="{{ base_classes }} {{ size_classes }} {{ color_classes }} {{ class }}" {{ attrs|safe }}>
    {% if icon %}<i class="{{ icon }} text-lg"></i>{% endif %}
    {% if text %}<span>{{ text }}</span>{% endif %}
    {% if caller %}{{ caller() }}{% endif %}
</button>
{% endif %}
{%- endmacro %}


{# --- INPUTS --- #}
{# --- INPUTS --- #}
{% macro input(name, label=None, placeholder='', type='text', value='', class='', id=None, attrs='',
wrapper_class='w-full') -%}
<div class="flex flex-col gap-1 {{ wrapper_class }}" {% if type=='password' %}x-data="{ show: false }" {% endif %}>
    {% if label %}
    <label for="{{ id or name }}" class="font-bold text-xs uppercase">{{ label }}</label>
    {% endif %}
    <div class="relative">
        <input {% if type=='password' %}:type="show ? 'text' : 'password'" type="password" {% else %}type="{{ type }}"
            {% endif %} name="{{ name }}" id="{{ id or name }}" placeholder="{{ placeholder }}" value="{{ value }}"
            class="nb-input h-10 border-[4px] {{ class }} {% if type == 'password' %}pr-10{% endif %}" {{ attrs|safe }}>

        {% if type == 'password' %}
        <button type="button" @click="show = !show"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-black focus:outline-none transition-transform"
            tabindex="-1">
            <i class="ph-bold text-lg" :class="show ? 'ph-eye-slash' : 'ph-eye'"></i>
        </button>
        {% endif %}
    </div>
</div>
{%- endmacro %}

{# --- TEXTAREA --- #}
{% macro textarea(name, label=None, placeholder='', value='', class='', id=None, attrs='', wrapper_class='w-full') -%}
<div class="flex flex-col gap-1 {{ wrapper_class }}">
    {% if label %}
    <label for="{{ id or name }}" class="font-bold text-xs uppercase">{{ label }}</label>
    {% endif %}
    <textarea name="{{ name }}" id="{{ id or name }}" placeholder="{{ placeholder }}" class="nb-input {{ class }}" {{
        attrs|safe }}>{{ value }}</textarea>
</div>
{%- endmacro %}

{# --- SELECT --- #}
{% macro select(name, options, label=None, value='', class='', id=None, attrs='', wrapper_class='w-full') -%}
<div class="flex flex-col gap-1 {{ wrapper_class }}">
    {% if label %}
    <label for="{{ id or name }}" class="font-bold text-xs uppercase">{{ label }}</label>
    {% endif %}
    <select name="{{ name }}" id="{{ id or name }}" class="nb-input h-10 bg-white {{ class }}" {{ attrs|safe }}>
        {% for opt_val, opt_label in options %}
        <option value="{{ opt_val }}" {% if opt_val==value %}selected{% endif %}>{{ opt_label }}</option>
        {% endfor %}
    </select>
</div>
{%- endmacro %}


{# --- CARDS --- #}
{% macro card(class='', title=None) -%}
<div class="nb-card p-4 {{ class }}">
    {% if title %}
    <div class="border-b-[4px] border-black pb-2 mb-4 flex justify-between items-center">
        <h3 class="font-black text-lg uppercase">{{ title }}</h3>
        <div class="flex gap-2">
            <div class="w-4 h-4 bg-black"></div>
            <div class="w-4 h-4 border-[4px] border-black"></div>
        </div>
    </div>
    {% endif %}
    {{ caller() }}
</div>
{%- endmacro %}


{# --- BADGES --- #}
{# --- BADGES --- #}
{% macro badge(text, variant='primary') -%}
{% if variant == 'primary' or variant == 'acid' %}
{% set classes = "bg-neon-green text-black" %}
{% elif variant == 'secondary' %}
{% set classes = "bg-white text-black" %}
{% elif variant == 'destructive' %}
{% set classes = "bg-hot-pink text-white" %}
{% elif variant == 'outline' %}
{% set classes = "bg-transparent text-black border border-black" %}
{% else %}
{% set classes = "bg-cyber-blue text-black" %}
{% endif %}
<span
    class="inline-block px-2 py-0.5 border-[2px] border-black text-[10px] font-bold uppercase shadow-hard-sm {{ classes }}">
    {{ text }}
</span>
{%- endmacro %}