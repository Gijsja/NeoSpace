{% macro alert(type="info", title="", message="", dismissible=True) %}
{#
Neubrutalist Alert Component
Types: info, success, warning, danger
#}
{% set colors = {
"info": {"bg": "bg-cyan-100", "border": "border-cyan-500", "icon": "ph-info", "text": "text-cyan-900"},
"success": {"bg": "bg-green-100", "border": "border-green-500", "icon": "ph-check-circle", "text": "text-green-900"},
"warning": {"bg": "bg-yellow-100", "border": "border-yellow-500", "icon": "ph-warning", "text": "text-yellow-900"},
"danger": {"bg": "bg-red-100", "border": "border-red-500", "icon": "ph-x-circle", "text": "text-red-900"}
} %}
{% set c = colors.get(type, colors.info) %}

<div x-data="{ show: true }" x-show="show" x-transition class="border-2 border-black {{ c.bg }} shadow-hard relative"
    role="alert">
    <div class="flex items-start gap-3 p-4">
        <!-- Icon -->
        <div class="{{ c.text }} flex-shrink-0">
            <i class="ph-bold {{ c.icon }} text-2xl"></i>
        </div>
        <!-- Content -->
        <div class="flex-1 min-w-0">
            {% if title %}
            <h4 class="font-bold uppercase tracking-wide {{ c.text }}">{{ title }}</h4>
            {% endif %}
            <p class="font-mono text-sm {{ c.text }} opacity-80 mt-1">{{ message }}</p>
        </div>
        <!-- Dismiss -->
        {% if dismissible %}
        <button @click="show = false" class="{{ c.text }} hover:opacity-70 transition-opacity"
            aria-label="Dismiss alert">
            <i class="ph-bold ph-x text-xl"></i>
        </button>
        {% endif %}
    </div>
    <!-- Accent border -->
    <div class="absolute left-0 top-0 bottom-0 w-1 {{ c.border.replace('border-', 'bg-') }}"></div>
</div>
{% endmacro %}

{% macro alert_info(title, message, dismissible=True) %}
{{ alert("info", title, message, dismissible) }}
{% endmacro %}

{% macro alert_success(title, message, dismissible=True) %}
{{ alert("success", title, message, dismissible) }}
{% endmacro %}

{% macro alert_warning(title, message, dismissible=True) %}
{{ alert("warning", title, message, dismissible) }}
{% endmacro %}

{% macro alert_danger(title, message, dismissible=True) %}
{{ alert("danger", title, message, dismissible) }}
{% endmacro %}