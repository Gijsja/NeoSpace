<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My Wall - NeoSpace</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="icon" href="https://fav.farm/ðŸ’¾" />
    <meta name="description" content="NeoSpace: Your Personal Wall.">
    <script src="https://unpkg.com/@phosphor-icons/web@2.1.1"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'bbs-bg': '#0a0f1a',
              'bbs-surface': 'rgba(30, 41, 59, 0.8)',
              'bbs-border': 'rgba(71, 85, 105, 0.5)',
              'bbs-accent': '#60a5fa',
              'bbs-accent-glow': 'rgba(96, 165, 250, 0.4)',
            },
            fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
            animation: {
              'pop': 'pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)',
            },
            keyframes: {
              pop: {
                '0%': { transform: 'scale(0.9)', opacity: '0' },
                '100%': { transform: 'scale(1)', opacity: '1' }
              }
            },
            boxShadow: {
              'glow': '0 0 15px rgba(96, 165, 250, 0.5)',
            }
          }
        }
      }
    </script>
    <!-- Mobile Drag & Drop Polyfill -->
    <script src="https://cdn.jsdelivr.net/npm/mobile-drag-drop@2.3.0-rc.2/index.min.js"></script>
    <script>
        // Init polyfill
        if (typeof MobileDragDrop !== 'undefined') {
            MobileDragDrop.polyfill({
                dragImageTranslateOverride: MobileDragDrop.scrollBehaviourDragImageTranslateOverride
            });
            // Fix for scroll issues on mobile during drag
            window.addEventListener( 'touchmove', function() {}, {passive: false});
        }
    </script>
    <script src="/ui/js/voice.js"></script>
    <!-- Sprint 12: Markdown & Syntax Highlighting -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="/ui/js/wall.js"></script>
  </head>
  <body class="bg-bbs-bg text-slate-200 min-h-screen font-sans" id="body-el">
    <!-- Back navigation -->
    <nav class="fixed top-4 left-4 z-50">
      <a href="/ui/views/app.html" class="flex items-center gap-2 px-3 py-2 bg-bbs-surface/80 backdrop-blur border border-bbs-border rounded-lg text-sm text-slate-300 hover:text-white transition shadow-lg">
        <i class="ph-bold ph-arrow-left"></i> Back to Chat
      </a>
    </nav>

    <!-- Loading State -->
    <div id="loading" class="fixed inset-0 flex items-center justify-center bg-bbs-bg z-40">
        <div class="text-2xl font-bold animate-pulse text-slate-500 flex items-center gap-2">
            <i class="ph-bold ph-spinner animate-spin"></i> Loading Wall...
        </div>
    </div>

    <!-- Profile Wall 2.0 Container -->
    <div id="wall-container" class="relative min-h-screen overflow-hidden hidden" style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);">
      
      <!-- Hero Identity Block -->
      <div class="relative max-w-6xl mx-auto pt-16 px-6 pb-8 mb-6 z-10">
        <div class="flex flex-col md:flex-row items-start gap-8 md:gap-12">
            
            <!-- Avatar (Large & Distinctive) -->
            <div class="relative group shrink-0">
                <div id="avatar-container" class="w-32 h-32 md:w-48 md:h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-white/10 shadow-2xl flex items-center justify-center overflow-hidden bg-cover bg-center transition-transform duration-500 hover:scale-[1.02] hover:shadow-glow hover:rotate-1">
                    <span id="avatar-initial" class="text-6xl font-black text-white/10">?</span>
                </div>
                <!-- Online Dot -->
                <div id="online-indicator" class="absolute -bottom-2 -right-2 w-6 h-6 bg-emerald-500 border-4 border-bbs-bg rounded-full shadow-lg hidden" title="Online"></div>
                <!-- Edit Avatar (Owner) -->
                <button id="edit-avatar-btn" class="absolute bottom-2 right-2 p-2 bg-black/50 hover:bg-bbs-accent text-white rounded-lg backdrop-blur opacity-0 group-hover:opacity-100 transition hidden pointer-events-auto">
                     <i class="ph-bold ph-camera"></i>
                </button>
            </div>

            <!-- Identity Info -->
            <div class="flex-1 min-w-0 pt-2 space-y-5">
                <div>
                    <h1 class="text-4xl md:text-6xl font-black tracking-tight text-white mb-1 leading-none drop-shadow-lg" id="display-name">Username</h1>
                    <div class="flex items-center gap-3">
                        <p class="text-lg text-slate-400 font-mono tracking-wide" id="username-handle">@handle</p>
                        <button id="edit-profile-btn" class="px-3 py-1 bg-white/5 hover:bg-white/10 border border-white/5 rounded text-xs font-bold text-slate-300 transition hidden">
                            Edit Profile
                        </button>
                    </div>
                </div>

                <!-- Status Line -->
                <div class="relative group max-w-2xl bg-black/20 backdrop-blur rounded-xl p-4 border border-white/5 hover:bg-black/30 transition">
                    <div class="flex items-start gap-4">
                        <span id="status-emoji" class="text-3xl pt-0.5 filter drop-shadow">ðŸ‘‹</span>
                        <div class="flex-1">
                            <p id="status-message" class="text-xl md:text-2xl text-slate-200 font-medium leading-snug">
                                Setting up my space...
                            </p>
                            <p class="text-xs text-slate-500 mt-2 font-mono uppercase tracking-wider" id="status-label">Current Status</p>
                        </div>
                    </div>
                </div>
                
                <!-- Voice Intro Player (Dynamic) -->
                <div id="voice-intro-section" class="hidden max-w-md">
                     <!-- Injected by VoicePlayer -->
                </div>
            </div>

            <!-- "Now" Block (Ephemeral) -->
            <div class="w-full md:w-72 bg-bbs-surface/40 backdrop-blur-md rounded-2xl p-6 border border-white/10 shadow-xl hover:border-bbs-accent/30 transition group relative overflow-hidden">
                <div class="absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition">
                     <i class="ph-duotone ph-clock text-6xl rotate-12"></i>
                </div>
                
                <div class="flex items-center justify-between mb-4 relative z-10">
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2">
                        <span class="w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"></span> Now
                    </h3>
                    <span id="now-activity-type-icon" class="text-bbs-accent text-lg">
                        <i class="ph-fill ph-star"></i>
                    </span>
                </div>
                
                <p id="now-activity" class="text-white font-medium text-lg leading-relaxed relative z-10 italic">
                    Just chilling...
                </p>
                
                 <!-- Update Now Trigger (Owner) -->
                 <button id="edit-now-btn" class="w-full mt-4 py-2 text-xs font-bold bg-white/5 hover:bg-white/10 text-slate-300 border border-white/5 rounded transition hidden relative z-10">
                    Update Status
                 </button>
            </div>
        </div>
      </div>
      
      <!-- Content Container -->
      <div class="max-w-6xl mx-auto px-6 relative z-10">

        <!-- Wall Modules (Sprint 12) -->
        <div id="wall-modules-section" class="mb-6 hidden">
            <h3 class="text-xs text-slate-500 uppercase tracking-wide mb-3 flex items-center gap-1">
                <i class="ph-bold ph-squares-four"></i> Wall
            </h3>
            <div id="wall-modules-grid">
                <!-- Module cards injected here -->
            </div>
        </div>

        <!-- Content Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 pb-12">
          
          <!-- STICKER BOARD -->
          <div class="col-span-2 bg-bbs-surface/30 backdrop-blur rounded-xl border border-bbs-border/50 min-h-[400px] relative overflow-hidden group" id="sticker-canvas">
            <!-- Canvas Background / Drop Target -->
            
            <div class="absolute top-3 left-3 z-20 flex gap-2">
                <div class="text-xs text-slate-500 uppercase tracking-wide flex items-center gap-1 bg-black/20 px-2 py-1 rounded backdrop-blur">
                    <i class="ph-bold ph-sticker"></i> Sticker Board
                </div>
            </div>

            <!-- Stickers Palette (Visible to logged in users) -->
            <div id="sticker-palette" class="hidden absolute bottom-4 left-4 right-4 bg-bbs-surface/90 border border-bbs-border rounded-xl p-3 backdrop-blur z-30 shadow-2xl overflow-x-auto flex gap-4 scrollbar-hide">
                <!-- Populated by JS -->
            </div>
            
            <!-- Stickers are appended here by JS -->
          </div>

          <!-- INFO / STATS -->
          <div class="space-y-6">
              <div class="bg-bbs-surface/30 backdrop-blur rounded-xl p-4 border border-bbs-border/50">
                <h3 class="text-xs text-slate-500 uppercase tracking-wide mb-3 flex items-center gap-1">
                    <i class="ph-bold ph-info"></i> Info
                </h3>
                <div class="space-y-3 text-sm text-slate-400">
                    <div class="flex justify-between items-center border-b border-white/5 pb-2">
                        <span>Member Since</span>
                        <span id="member-since" class="text-slate-200 font-mono">2026</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>Status</span>
                        <span class="px-2 py-0.5 rounded bg-emerald-500/20 text-emerald-400 text-xs font-bold">Respected</span>
                    </div>
                </div>
              </div>

               <!-- TOP FRIENDS (Mock for now) -->
              <div class="bg-bbs-surface/30 backdrop-blur rounded-xl p-4 border border-bbs-border/50">
                <h3 class="text-xs text-slate-500 uppercase tracking-wide mb-3 flex items-center gap-1">
                    <i class="ph-bold ph-users"></i> Top Friends
                </h3>
                <div class="grid grid-cols-4 gap-2">
                    <div class="aspect-square rounded-full bg-slate-700/50 flex items-center justify-center text-xs">?</div>
                    <div class="aspect-square rounded-full bg-slate-700/50 flex items-center justify-center text-xs">?</div>
                    <div class="aspect-square rounded-full bg-slate-700/50 flex items-center justify-center text-xs">?</div>
                    <div class="aspect-square rounded-full bg-slate-700/50 flex items-center justify-center text-xs">?</div>
                </div>
              </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-bbs-surface border border-bbs-border rounded-xl w-full max-w-md shadow-2xl overflow-hidden animate-pop">
            <div class="p-4 border-b border-bbs-border flex justify-between items-center bg-slate-800/50">
                <h2 class="font-bold text-white flex items-center gap-2">
                    <i class="ph-bold ph-pencil-simple text-bbs-accent"></i> Edit Profile
                </h2>
                <button type="button" class="close-modal text-slate-400 hover:text-white transition">
                    <i class="ph-bold ph-x text-lg"></i>
                </button>
            </div>
            <form id="edit-form" class="p-4 space-y-4 max-h-[80vh] overflow-y-auto">
                
                <!-- Avatar -->
                <div class="flex items-center gap-4 bg-slate-800/30 p-3 rounded-lg border border-white/5">
                    <div class="w-16 h-16 rounded-full bg-slate-700 bg-cover bg-center shrink-0 border-2 border-bbs-border shadow-inner" id="preview-avatar"></div>
                    <label class="flex-1 cursor-pointer">
                        <span class="block text-sm font-medium text-slate-300 mb-1">Update Avatar</span>
                        <input type="file" id="avatar-input" accept="image/*" class="block w-full text-xs text-slate-400 file:mr-2 file:py-1.5 file:px-3 file:rounded-lg file:border-0 file:text-xs file:font-semibold file:bg-bbs-accent/20 file:text-bbs-accent hover:file:bg-bbs-accent/30 transition" />
                    </label>
                </div>

                <!-- Voice Intro Recorder -->
                <div class="bg-slate-800/30 p-3 rounded-lg border border-white/5">
                    <label class="block text-xs uppercase text-slate-500 font-bold mb-2">Voice Intro</label>
                    <div class="flex gap-2 items-center mb-2">
                        <button type="button" id="record-btn" class="px-3 py-1.5 bg-rose-500 hover:bg-rose-600 text-white text-xs font-bold rounded flex items-center gap-1 transition">
                            <i class="ph-bold ph-microphone"></i> Record
                        </button>
                        <button type="button" id="stop-btn" class="px-3 py-1.5 bg-slate-600 hover:bg-slate-500 text-white text-xs font-bold rounded flex items-center gap-1 transition hidden">
                            <i class="ph-bold ph-stop"></i> Stop
                        </button>
                    </div>
                    <canvas id="recorder-canvas" width="200" height="40" class="w-full h-10 bg-slate-900 rounded mb-2 border border-white/5"></canvas>
                    <button type="button" id="upload-voice-btn" class="w-full py-1.5 bg-bbs-accent hover:bg-blue-600 text-white text-xs font-bold rounded disabled:opacity-50 disabled:cursor-not-allowed transition" disabled>
                        Upload Selection
                    </button>
                    <p id="voice-status" class="text-[10px] text-slate-500 mt-1 text-center h-4"></p>
                </div>

                <div>
                    <label class="block text-xs uppercase text-slate-500 font-bold mb-1.5">Status Line</label>
                    <div class="flex gap-2">
                         <input type="text" name="status_emoji" id="input-status-emoji" class="w-16 bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white text-center text-xl focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent transition" placeholder="ðŸ‘‹" maxlength="4" />
                         <input type="text" name="status_message" id="input-status-msg" class="flex-1 bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent transition" placeholder="What's your vibe today?" maxlength="100" />
                    </div>
                </div>

                <div class="bg-black/20 p-3 rounded-lg border border-white/5">
                     <label class="block text-xs uppercase text-slate-500 font-bold mb-1.5 flex items-center gap-2">
                        <i class="ph-bold ph-clock"></i> The "Now" Block
                     </label>
                     <div class="grid grid-cols-3 gap-2 mb-2">
                        <select name="now_activity_type" id="input-now-type" class="col-span-1 bg-bbs-bg border border-bbs-border rounded-lg px-2 py-2 text-white text-xs focus:border-bbs-accent focus:outline-none">
                            <option value="thinking">Thinking</option>
                            <option value="listening">Listening</option>
                            <option value="working">Working</option>
                            <option value="playing">Playing</option>
                            <option value="reading">Reading</option>
                             <option value="watching">Watching</option>
                        </select>
                        <input type="text" name="now_activity" id="input-now-activity" class="col-span-2 bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white text-sm focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent transition" placeholder="e.g. Listening to Jazz..." maxlength="50" />
                     </div>
                </div>

                <div>
                    <label class="block text-xs uppercase text-slate-500 font-bold mb-1.5">Display Name</label>
                    <input type="text" name="display_name" id="input-name" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent transition" required maxlength="50" />
                </div>

                <div>
                    <label class="block text-xs uppercase text-slate-500 font-bold mb-1.5">Bio (Legacy)</label>
                    <textarea name="bio" id="input-bio" rows="2" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent transition resize-none" maxlength="500"></textarea>
                </div>

                <!-- Sprint 11: Audio Anthem -->
                <div class="bg-gradient-to-r from-purple-900/30 to-pink-900/30 p-3 rounded-lg border border-purple-500/20">
                    <label class="block text-xs uppercase text-slate-500 font-bold mb-1.5 flex items-center gap-2">
                        <i class="ph-bold ph-music-notes text-purple-400"></i> Profile Anthem
                    </label>
                    <input type="url" name="anthem_url" id="input-anthem-url" 
                           class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-purple-400 focus:outline-none focus:ring-1 focus:ring-purple-400 transition mb-2" 
                           placeholder="https://example.com/song.mp3" />
                    <label class="flex items-center gap-3 cursor-pointer group">
                        <input type="checkbox" name="anthem_autoplay" id="input-anthem-autoplay" 
                               class="rounded bg-bbs-bg border-bbs-border text-purple-400 focus:ring-offset-0 focus:ring-0 w-4 h-4" checked />
                        <span class="text-sm text-slate-300 group-hover:text-white transition">Autoplay for visitors</span>
                    </label>
                    <p class="text-[10px] text-slate-500 mt-2">Direct link to MP3/audio file. Will loop on your wall.</p>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs uppercase text-slate-500 font-bold mb-1.5">Theme</label>
                        <select name="theme_preset" id="input-theme" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none appearance-none">
                            <option value="default">Default</option>
                            <option value="dark">Midnight</option>
                            <option value="retro">Cyber Retro</option>
                            <option value="zen">Forest Zen</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs uppercase text-slate-500 font-bold mb-1.5">Accent Color</label>
                        <div class="flex gap-2 items-center">
                            <input type="color" name="accent_color" id="input-accent" class="w-full h-[38px] bg-bbs-bg border border-bbs-border rounded-lg cursor-pointer p-1" />
                        </div>
                    </div>
                </div>

                <div class="space-y-3 pt-3 border-t border-bbs-border/50">
                    <label class="flex items-center gap-3 cursor-pointer group">
                        <input type="checkbox" name="is_public" id="input-public" class="rounded bg-bbs-bg border-bbs-border text-bbs-accent focus:ring-offset-0 focus:ring-0 w-4 h-4" />
                        <span class="text-sm text-slate-300 group-hover:text-white transition">Public Profile</span>
                    </label>
                    <label class="flex items-center gap-3 cursor-pointer group">
                        <input type="checkbox" name="show_online_status" id="input-online" class="rounded bg-bbs-bg border-bbs-border text-bbs-accent focus:ring-offset-0 focus:ring-0 w-4 h-4" />
                        <span class="text-sm text-slate-300 group-hover:text-white transition">Show Online Status</span>
                    </label>
                </div>

                 <div class="flex justify-end gap-3 pt-4 border-t border-bbs-border/50 mt-2">
                    <button type="button" class="close-modal px-4 py-2 text-sm text-slate-400 hover:text-white transition font-medium">Cancel</button>
                    <button type="submit" class="px-6 py-2 bg-bbs-accent hover:bg-blue-600 text-white text-sm font-bold rounded-lg transition shadow-glow flex items-center gap-2">
                        <i class="ph-bold ph-check"></i> Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Audio Anthem Player (Hidden) -->
    <audio id="anthem-player" preload="auto" loop></audio>
    
    <!-- Anthem Mute Toggle -->
    </button>

    <!-- Generic Add Module FAB (Sprint 12) -->
    <button id="add-module-btn" class="fixed bottom-20 right-4 z-50 w-12 h-12 bg-white text-black hover:bg-slate-200 rounded-full flex items-center justify-center shadow-lg transition-transform hover:scale-110 group hidden">
        <i class="ph-bold ph-plus text-xl transition-transform group-hover:rotate-90"></i>
    </button>
    
    <!-- Add Module Modal -->
    <div id="add-module-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-bbs-surface border border-bbs-border rounded-xl w-full max-w-md shadow-2xl overflow-hidden animate-pop">
            <div class="p-4 border-b border-bbs-border flex justify-between items-center bg-slate-800/50">
                <h2 class="font-bold text-white flex items-center gap-2">
                    <i class="ph-bold ph-squares-four text-bbs-accent"></i> Add to Wall
                </h2>
                <button type="button" class="close-add-modal text-slate-400 hover:text-white transition">
                    <i class="ph-bold ph-x text-lg"></i>
                </button>
            </div>
            
            <!-- Type Selector -->
            <div class="grid grid-cols-3 gap-2 p-4 border-b border-white/5" id="module-type-selector">
                <button data-type="text" class="module-type-btn active flex flex-col items-center gap-2 p-3 rounded-lg bg-white/5 hover:bg-white/10 border border-transparent hover:border-white/10 transition">
                    <i class="ph-duotone ph-text-t text-2xl text-slate-300"></i>
                    <span class="text-xs font-bold text-slate-400">Text</span>
                </button>
                <button data-type="image" class="module-type-btn flex flex-col items-center gap-2 p-3 rounded-lg bg-white/5 hover:bg-white/10 border border-transparent hover:border-white/10 transition">
                    <i class="ph-duotone ph-image text-2xl text-slate-300"></i>
                    <span class="text-xs font-bold text-slate-400">Image</span>
                </button>
                <button data-type="link" class="module-type-btn flex flex-col items-center gap-2 p-3 rounded-lg bg-white/5 hover:bg-white/10 border border-transparent hover:border-white/10 transition">
                    <i class="ph-duotone ph-link text-2xl text-slate-300"></i>
                    <span class="text-xs font-bold text-slate-400">Link</span>
                </button>
                <button data-type="audio" class="module-type-btn flex flex-col items-center gap-2 p-3 rounded-lg bg-white/5 hover:bg-white/10 border border-transparent hover:border-white/10 transition">
                    <i class="ph-duotone ph-music-notes text-2xl text-slate-300"></i>
                    <span class="text-xs font-bold text-slate-400">Audio</span>
                </button>
            </div>
            
            <form id="add-module-form" class="p-4 space-y-4">
                <input type="hidden" name="module_type" id="new-module-type" value="text">
                
                <!-- Text Inputs -->
                <div id="fields-text" class="space-y-3">
                    <label class="block text-xs uppercase text-slate-500 font-bold">Content (Markdown)</label>
                    <textarea name="text_content" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white font-mono text-sm focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent h-32" placeholder="Write something..."></textarea>
                </div>
                
                <!-- Image Inputs -->
                <div id="fields-image" class="space-y-3 hidden">
                    <label class="block text-xs uppercase text-slate-500 font-bold">Image URL</label>
                    <input type="url" name="image_url" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent" placeholder="https://..." />
                </div>
                
                <!-- Link Inputs -->
                <div id="fields-link" class="space-y-3 hidden">
                    <label class="block text-xs uppercase text-slate-500 font-bold">Link URL</label>
                    <input type="url" name="link_url" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent" placeholder="https://..." />
                     <label class="block text-xs uppercase text-slate-500 font-bold">Title (Optional)</label>
                    <input type="text" name="link_title" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent" placeholder="My Cool Link" />
                </div>

                <!-- Audio Inputs -->
                <div id="fields-audio" class="space-y-3 hidden">
                    <label class="block text-xs uppercase text-slate-500 font-bold">Audio URL (MP3/WAV)</label>
                    <input type="url" name="audio_url" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent" placeholder="https://example.com/song.mp3" />
                     <label class="block text-xs uppercase text-slate-500 font-bold">Caption (Optional)</label>
                    <input type="text" name="audio_title" class="w-full bg-bbs-bg border border-bbs-border rounded-lg px-3 py-2 text-white focus:border-bbs-accent focus:outline-none focus:ring-1 focus:ring-bbs-accent" placeholder="Song Title" />
                </div>
                
                <div class="flex justify-end pt-2">
                    <button type="submit" class="px-6 py-2 bg-white text-black font-bold rounded-lg hover:bg-slate-200 transition shadow-glow flex items-center gap-2">
                        <i class="ph-bold ph-plus"></i> Add Block
                    </button>
                </div>
            </form>
        </div>
    </div>


    <script src="/ui/js/wall_ui.js"></script>
  </body>
</html>
